<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Siesta PHP - stored procedure based ORM</title>

    <!-- Bootstrap Core CSS - Uses Bootswatch Flatly Theme: http://bootswatch.com/flatly/ -->
    <link href="css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom CSS -->
    <link href="css/freelancer.css" rel="stylesheet">

    <link href="css/codeformat.css" rel="stylesheet">

    <!-- Custom Fonts -->
    <link href="font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href="http://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet" type="text/css">
    <link href="http://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic" rel="stylesheet" type="text/css">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

</head>

<body id="page-top" class="index">

    <!-- Navigation -->
    <nav class="navbar navbar-default navbar-fixed-top">
        <div class="container">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header page-scroll">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="#page-top">Siesta PHP</a>
            </div>

            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav navbar-right">
                    <li class="hidden">
                        <a href="#page-top"></a>
                    </li>
                    <li class="page-scroll">
                        <a href="/index.html">Overview</a>
                    </li>
                    <li class="page-scroll">
                        <a href="/entities.html">Entities</a>
                    </li>
                    <li class="page-scroll">
                        <a href="/index.html">Relationships</a>
                    </li>
                    <li class="page-scroll">
                        <a href="/storedprocedure.html">Stored Procedures</a>
                    </li>
                    <li class="page-scroll">
                        <a href="/driver.html">Driver</a>
                    </li>
                </ul>
            </div>
            <!-- /.navbar-collapse -->
        </div>
        <!-- /.container-fluid -->
    </nav>

    <!-- Header -->
    <header>
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <img class="img-responsive" src="img/profile.png" alt="">
                    <div class="intro-text">
                        <span class="name">Siesta PHP</span>
                        <hr class="star-light">
                        <span class="skills">Stored procedure based object relational mapper for php</span>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <section id="overview">
        <div class="container">
            <div class="row">
                <div class="col-lg-12 text-center">
                    <h2>Overview</h2>
                    <hr class="star-primary">
                </div>
            </div>
            <div class="row">
                <div class="col-lg-12 text-center">
                    <div class="chapter">
                        <p>
                            Siesta is an object relational mapper for php build for performant database access. It allows to
                            define objects and there mapping to tables in a database. Objects can be intialized with http request data
                            or with json data. That allows to handle JavaScript objects in the browser, send them to the backend, parse the data,
                            manipulate the data and then persist it. Currently only drivers for for MySQL are available.<br><br>

                            Important features:<br><br>

                            <b>Code Generation</b><br>
                            Instead of writing a large generic engine with tons of code, the needed code for persistency operations
                            is generated from descriptions. Therefore the needed persistency footprint is very small, hence fast.<br><br>

                            <b>Stored Procedures insted of ad-hoc SQL</b><br>
                            Siesta relies to 100% on Stored Procedures. The generator creates all needed stored procedures directly in the database.
                            In contrast to classic ad hoc sql the stored procedures are precompiled in the database which increases performance.
                            Furthermore custom stored procedures can be defined.<br><br>

                            <b>Extensibility</b><br>
                            Code generation approaches tend to limit programmers ability to change behaviour. Therefore an
                            import design principle is to allow for extensibilty at every given point.<br><br>

                            <b>In Memory replication</b><br>
                            Siesta for MySQL allows to replicate tables with a memory engine. That means the table exist twice once with the
                            defined engine and one with the memory engine. All modifying operations are executed on both tables. Read operations
                            are only performed on the memory table.<br><br>

                            <b>Delimiting Tables / Record History</b><br>
                            Sometimes it is important to track changes to objects. Therefore Siesta allows to generate a second history table.
                            Every time the a record is changed, the changes will be stored to the history table with a valid from and valid until
                            entry.
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Installation Section -->
    <section class="success">
        <div class="container">
            <div class="row">
                <div class="col-lg-12 text-center">
                    <h2>Installation</h2>
                    <hr class="star-light">
                </div>
            </div>
            <div class="row">
                <div class="chapter">
                    <p>Installation with composer</p>
<pre class="prettyprint">
composer require gm314/siesta
</pre>
                    <p>Create configuration file with</p>
<pre class="prettyprint">
vendor/bin/siesta init
</pre>
                    <p>SSH Clone URL : git@github.com:gperler/siesta.git<br>
                        Github repository <a class="toc" href="https://github.com/gperler/siesta">https://github.com/gperler/siesta</a>
                    </p>
                </div>
            </div>
        </div>
    </section>


    <!-- Hello world  -->
    <section>
        <div class="container">
            <div class="row">
                <div class="col-lg-12 text-center">
                    <h2>Hello World</h2>
                    <hr class="star-primary">
                </div>
            </div>
            <div class="row">
                <div class="col-lg-12 text-center">
                    <div class="chapter">
                        <p>
                            The following XML describes 2 entities. One named <i>Artist</i> and one named <i>Label</i>. Both entities have
                            simple attributes with the given php and database types. Furthermore one relation is defined. The Artist &lt;reference&gt; element
                            describes a relationship to the Label class. The Label class has a &lt;collector&gt; element that describes the foreign class
                            and the name of the reference.
                        </p>
<pre class="prettyprint">
    &lt;entityList&gt;

        &lt;entity name="Artist" namespace="helloworld" targetPath="helloworld"&gt;
            &lt;attribute name="id" type="int" dbType="INT" primaryKey="true" autoValue="autoincrement"/&gt;
            &lt;attribute name="name" type="string" dbType="VARCHAR(100)"/&gt;

            &lt;reference name="label" foreignClass="Label" required="false"/&gt;
        &lt;/entity&gt;

        &lt;entity name="Label" namespace="helloworld" targetPath="helloworld"&gt;
            &lt;attribute name="id" type="int" dbType="INT" primaryKey="true" autoValue="autoincrement"/&gt;
            &lt;attribute name="name" type="string" dbName="NAME" dbType="VARCHAR(100)"/&gt;
            &lt;attribute name="city" type="string" dbName="CITY" dbType="VARCHAR(100)"/&gt;

            &lt;collector name="artistList" type="1n" foreignClass="Artist" referenceName="label"/&gt;
        &lt;/entity&gt;

    &lt;/entityList&gt;
</pre>

                        <p>
                            The example is available in the distribution. Just run the command</p>
<pre class="prettyprint">
    vendor/bin/siesta init
    vendor/bin/siesta generate --entityFileSuffix .hello.xml
</pre>
                        <p>
                            to generate the classes. The generator will search for xml files with the suffix <i>entity.xml</i> in the current
                            working directory. Adding the --entiyFileSuffix option allows to search for other files.<br><br>

                            This will generate 2 php classes and stored procedures in the database to have persistence methods. The following code
                            shows how the classes can be used. First an Artist and Label object are instantiated. Then the relation between both
                            is established by <code>$label->addToArtistList($artist);</code>. The save method can be invoked with <code>true</code> that
                            will result in a cascading save. That means that both objects will be stored.
                        </p>
<pre class="prettyprint">
    $artist = new Artist();
    $artist->setName("Jamie Woon");

    $label = new Label();
    $label->setName("PMR");
    $label->setCity("London");
    $label->addToArtistList($artist);

    // save with cascade. will store both label and artist
    $label->save(true);
</pre>

                    </div>
                </div>
            </div>
        </div>
    </section>


    <!-- Stored Procedure Section -->
    <section id="console">
        <div class="container">
            <div class="row">
                <div class="col-lg-12 text-center">
                    <h2>Console Commands</h2>
                    <hr class="star-primary">
                </div>
            </div>
            <div class="row">
                <div class="col-lg-12 text-center">
                    <div class="chapter">
                        <p>

                        </p>
                    </div>
                </div>
            </div>
        </div>
    </section>





    <!-- Footer -->
    <footer class="text-center">
        <div class="footer-above">
            <div class="container">
                <div class="row">
                    <div class="footer-col col-md-4">
                        <h3>Location</h3>
                        <p>Berlin</p>
                    </div>
                    <div class="footer-col col-md-4">
                        <h3>Around the Web</h3>
                        <ul class="list-inline">
                            <li>
                                <a href="https://github.com/gperler/siesta" class="btn-social btn-outline"><i class="fa fa-fw fa-dribbble"></i></a>
                            </li>
                        </ul>
                    </div>
                    <div class="footer-col col-md-4">
                        <h3>About Siesta PHP</h3>
                        <p>Freelance is a free to use, open source PHP ORM.</p>
                    </div>
                </div>
            </div>
        </div>
        <div class="footer-below">
            <div class="container">
                <div class="row">
                    <div class="col-lg-12">
                        Copyright &copy; Siesta PHP
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <!-- Scroll to Top Button (Only visible on small and extra-small screen sizes) -->
    <div class="scroll-top page-scroll visible-xs visible-sm">
        <a class="btn btn-primary" href="#page-top">
            <i class="fa fa-chevron-up"></i>
        </a>
    </div>

    <!-- jQuery -->
    <script src="js/jquery.js"></script>

    <!-- Bootstrap Core JavaScript -->
    <script src="js/bootstrap.min.js"></script>

    <!-- Plugin JavaScript -->
    <script src="http://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.3/jquery.easing.min.js"></script>
    <script src="js/classie.js"></script>
    <script src="js/cbpAnimatedHeader.js"></script>

    <!-- Contact Form JavaScript -->
    <script src="js/jqBootstrapValidation.js"></script>
    <script src="js/contact_me.js"></script>

    <!-- Custom Theme JavaScript -->
    <script src="js/freelancer.js"></script>

</body>

</html>
